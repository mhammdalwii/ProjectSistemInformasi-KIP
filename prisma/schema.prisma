generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// Enum untuk Peran/Role
enum Role {
  ADMIN
  SISWA
}

// Enum untuk Status KIP (tidak berubah)
enum StatusKIP {
  PROSES
  DITERIMA
  DITOLAK
  BELUM_DIAJUKAN 
}

// Ini akan menyimpan data Admin DAN Siswa
model User {
  id        String   @id @default(cuid())
  email     String   @unique 
  password  String   
  role      Role     @default(SISWA) 
  
  // Data Profil (wajib untuk siswa)
  name      String?
  nisn      String?  @unique
  kelas     String?
  
  // Data KIP (opsional)
  nomorKIP        String?  @unique
  tahunPenerimaan Int?
  
  // Status Verifikasi
  status    StatusKIP @default(BELUM_DIAJUKAN)
  
  // Dokumen Upload (menyimpan URL file)
  urlKK         String? 
  urlKIP        String? 
  urlKTPOrangTua String? 
  urlAkta       String? 
  urlSKTM       String? 
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model SystemSetting {
  id    String @id @default(cuid())
  key   String @unique 
  value String 
}